---
title: go语言为什么编译速度快
date: 2021-11-23
categories: go
tags: [go, 编译]
description: 编译速度快是go语言的其中优点之一
---

## go的优点
编译速度、执行速度、内存管理以及并发编程

## 静态编译和动态编译的区别
> 静态编译：编译器在编译可执行文件时，要把使用到的链接库提取出来，链接打包进可执行文件中，编译结果只有一个可执行文件  
> 动态编译：可执行文件需要附带独立的库文件，不打包库到可执行文件中，减少可执行文件体积，在执行的时候再调用库即可  

两种方式有各自的优点和缺点，前者不需要去管理不同版本库的兼容性问题，后者可以减少内存和存储的占用（因为可以让不同程序共享同一个库），两种方式孰优孰弱，要对应到具体的工程问题上，Go默认的编译方式是静态编译。

## Go编译速度快主要四个原因：
1. 使用了import的引用管理方式 
2. 没有模板的编译负担
3. 1.5版本后的自举编译器优化 
4. 更少的关键字

所以为了加快编译速度、放弃C++而转入Go的同时，也要考虑一下是否要 放弃泛型编程的优点

## C++编译慢的主要两个大原因
1. 头文件的include方式
2. 模板的编译

C++使用include方式引用头文件，会让需要编译的代码有乘数级的增加，例如当同一个头文件被同一个项目下的N个文件include时，编译器会将头文件引入到每一份代码中，所以同一个头文件会被编译N次（这在大多数时候都是不必要的）

C++使用的模板是为了支持泛型编程，在编写对不同类型的泛型函数时，可以提供很大的便利，但是这对于编译器来说，会增加非常多不必要的编译负担。

头文件的方式，import解决了重复编译的问题，当然Go也是使用的import方式；在模板的编译问题上，由于Go在设计理念上遵循从简入手，所以没有将泛函编程纳入到设计框架中，所以天生的没有模版编译带来的时间开销